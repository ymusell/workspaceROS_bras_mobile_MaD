<!doctype html>
<html lang="fr+en">
  <head>
    <title>Chaire-robots-turtlebot</title>
    <link rel="icon" type="image/png" sizes="16x16" href="pictures/logoOnglet_transparent.png">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="css/style.css"/>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body class="bg" style="background-color:#ffffff">
    
    <!-- Bandeau -->
    <header>
        <div id='bandeau'>
            <nav class="navbar navbar-expand navbar-light" style="background-color:#62cdff">    <!-- "navbar navbar-dark" -->
                <b>
                    <a href="index.html">
                        <img src="pictures/logo_MaD_light.png"
                        width="80" height="50" class="d-inline-block" alt="logo de la chaire">
                    </a>
                </b>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Robots
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item active" href="turtlebot_teleop.html">Turtlebot3</a>
                                <a class="dropdown-item" href="niryo_one.html">Niryo One</a>
                                <a class="dropdown-item" href="meuble.html">meuble</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle dropup" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Scénarios
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="scenario.html">Scénario n°1</a>
                            </div>
                        </li>
                    </ul>
                </div>
                <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                    <li class="nav-item dropdown">
                        <a class="nav-item nav-link dropdown-toggle mr-md-2" href="#" id="bd-versions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Paramètres <?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="20px" viewBox="0 0 20 20" fill="#000" version="1.1"><g id="surface1"><path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 10 12.5 C 8.625 12.5 7.5 11.375 7.5 10 C 7.5 8.625 8.625 7.5 10 7.5 C 11.375 7.5 12.5 8.625 12.5 10 C 12.5 11.375 11.375 12.5 10 12.5 Z M 15.625 8.4375 C 15.5 7.980469 15.3125 7.542969 15.082031 7.144531 L 15.605469 5.582031 L 14.417969 4.394531 L 12.855469 4.917969 C 12.4375 4.6875 12 4.5 11.542969 4.375 L 10.832031 2.917969 L 9.167969 2.917969 L 8.4375 4.375 C 7.980469 4.5 7.542969 4.6875 7.144531 4.917969 L 5.582031 4.394531 L 4.394531 5.582031 L 4.917969 7.144531 C 4.6875 7.5625 4.5 8 4.375 8.457031 L 2.917969 9.167969 L 2.917969 10.832031 L 4.375 11.5625 C 4.5 12.019531 4.6875 12.457031 4.917969 12.855469 L 4.394531 14.417969 L 5.582031 15.605469 L 7.144531 15.082031 C 7.5625 15.3125 8 15.5 8.457031 15.625 L 9.1875 17.082031 L 10.855469 17.082031 L 11.582031 15.625 C 12.042969 15.5 12.480469 15.3125 12.875 15.082031 L 14.4375 15.605469 L 15.625 14.417969 L 15.105469 12.855469 C 15.332031 12.4375 15.519531 12 15.644531 11.542969 L 17.105469 10.8125 L 17.105469 9.144531 Z M 15.625 8.4375 "/></g></svg>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-versions">
                            <a class="dropdown-item" href="#">Mode nuit?
                            </a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container .pt-3">
        <h4 style="color: black;font-weight: bold;">TurtleBot3 Waffle Pi :</h4> <!--text-align:center;-->
    </div> 

    <!-- Informations générales -->

    <div class="row my-2" id="info_gene">
        <div class="col-md-1"></div>
        <div class="col-md-4">
            <h6 style="color: black;">Informations générales</h6>
            <div class="container" style="background-color: #CFE6FF;">
                <div class="row my-2">
                    <div class="col-md-2">
                        <p style="color: black;width: 420px;">Statut : </p>
                    </div>
                    <div class="col-md-4">
                        <p style="background-color: red;text-align: center;color: white;" id="statut_turtlebot"> non connecté</p>
                    </div>
                </div>
                <div class="row my-2">
                    <div class="col-md-6">
                        <p style="color: black">Batterie level : <span id="batterie_turtlebot"> 50 %</span></p>
                    </div>
                    <div class="col-md-6" style="padding-top: 8px;">     <!-- style="display: grid;align-items: center;" -->
                        <div class="progress">
                            <div id="battery_status" class="progress-bar progress-bar-striped progress-bar-animated"
                            role="progressbar" style="width:50%; background-color:#62cdff" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                            50%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Partie sur le niveau de batterie et les boutons urgence et activation-->
    <!-- <div id='batterie_urgence'>
        <div class="container">
            <br>
            <h5 style="color:#888888"><b>Niveau de Batterie :</b></h5>
            <div class="progress">

                <div id="battery_status" class="progress-bar progress-bar-striped progress-bar-animated"
                role="progressbar" style="width:50%; background-color:#62cdff" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                50%</div>

            </div>
        </div>

        <div class="row my-2">
            <div class="col-md-0"></div>
            <div class="col-md-0" style="margin:auto;display:block">
                <br>
                <button type="button" onclick="Urgence()" class="btn btn-outline-danger" id="urgence-btn" disabled><b>Arrêt
                        d'urgence</b></button>
                <img src="pictures/warning.png"
                    width="50" height="50" class="d-inline-block" alt="">
                <button type="button" onclick="Reactivation()" class="btn btn-outline-success"
                    id="reactivation-btn" disabled><b>Réactivation</b></button>
                <br>
            </div>
            <div class="col-md-0"></div>
        </div>
    </div> -->

    <!-- Actions -->
    <div class="container" id="actions" style="background-color: #CFE6FF;">
        <div class="row my-2">
            <div class="col-md-3">
                <p>Positions pré-enregistrés</p>
            </div>
            <div class="col-md-9" style="background-color: white;"></div>
        </div>
        <div class="row my-2">
            <div class="col-md-3">
                <p>Lieux où se trouve le robot:</p>
            </div>
            <div class="col-md-2">
                <p style="text-align: center;background-color: #037DFF; border-radius: 5px;color: white;">Random</p>
            </div>
        </div>
        <div class="row my-2">
            <div class="col-md-3">
                <p>Déplacer le robot vers:</p>
            </div>
            <div class="col-md-3">
                <input type="checkbox" id="chambre" name="positions">
                <label for="chambre">La chambre</label>
            </div>
            <div class="col-md-3">
                <input type="checkbox" id="cuisine_plan" name="positions">
                <label for="cuisine_plan">La cuisine (plan de travail)</label>
            </div>
            <div class="col-md-3">
                <input type="checkbox" id="cuisine_frigo" name="positions">
                <label for="cuisine_frigo">La cuisine (frigidaire)</label>
            </div>
        </div>
        <div class="row my-2">
            <div class="col-md-3"></div>
            <div class="col-md-3">
                <input type="checkbox" id="salon" name="positions">
                <label for="salon">Le salon</label>
            </div>
            <div class="col-md-3">
                <input type="checkbox" id="cuisine_table" name="positions">
                <label for="cuisine_table">La cuisine (table)</label>
            </div>
            <div class="col-md-3">
                <label class="containerRadio">La base
                    <input type="checkbox" checked="checked">
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>
        <div class="row my-2">
            <div class="col-md-6"></div>
            <div class="col-md-4">
                <button type="button" class="btn btn-info" onclick="gestionNavigation()">Lancer la navigation</button>
            </div>
            <div class="col-md-2">
                <p id="etat_commande_position" style="background-color: gray; color: white; border-radius: 5px; text-align: center;margin-top: 10px;" >En attente</p>
            </div>
        </div>
    </div>

    <!-- Essai de stylisation de check button -->
    <div class="row">
        <div class="col-3"></div>
        <div class="col-2">
            <!-- Rounded switch -->
            <label class="switch">
                <input type="checkbox"/>
                <span class="slider round"></span>
            </label>
        </div>
        <div class="col"></div>
    </div>

    <!-- controle manuel -->
    <div class="col-md-3" >
        <!-- <p onclick="">Essai <img src="pictures/cross_icon.svg" alt="essai de bonjour" width="20px" height="20px"/></p> -->
        <button id="boutonControleManuel" class="btn" type="button" data-toggle="collapse" data-target="#main_controle" aria-expanded="false" aria-controls="main_controle">
            Contrôles Manuels
        </button>
    </div>
    <div class="collapse container" id="main_controle" style="background-color: #CFE6FF;">
        <div class="row my-2">
            <div class="col-md-2">
                <p>Caméra : Activé</p>
            </div>
            <div class="col-md-2">
                <label class="switch" style="margin-top: 2px;">
                    <input type="checkbox"/>
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
        <div class="row my">
            <div class="col-md-12">           
                <div class="tab">
                    <button class="tablinks active" onclick="openControle(event, 'controle_clavier')">Clavier</button>
                    <button class="tablinks" onclick="openControle(event, 'controle_joystick')">Joystick</button>
                </div>
                
                <div id="controle_clavier" class="tabcontent" style="background-color: #8EC4FF;">
                    <div class="col-md-5" style="padding-left: 1px;background-color: #F6F8E1;margin: 5px;">
                        <h4 class="alert-heading">Instructions: </h4>
                        <p style="margin-bottom: 1px;">Pour diriger le robot, vous pouvez: </p>
                        <ul style="padding-left: 25px;margin-bottom: 10px;">
                            <li>Utiliser les touches du clavier </li>
                            <ul style="padding-left: 15px;margin-bottom: 10px;">
                                <li>touche <strong id='letterZ'>z</strong> pour avancer</li>
                                <li>touche <strong id='letterQ'>q</strong> pour tourner à gaucher</li>
                                <li>touche <strong id='letterD'>d</strong> pour tourner à droite</li>
                                <li>touche <strong id='letterX'>x</strong> pour reculer</li>
                                <li>touche <strong id='letterS'>s</strong> pour s'arrêter</li>
                            </ul>
                            <li>Utiliser les flèches ci-dessous: </li>
                        </ul>
                        <div class="row my-1" style="height: 25px;">
                            <div class="col-md-0"></div>
                            <div class="col-md-0" style="margin:auto;display:block">
                                <p style="font-size: 15px;">Avancer</p>
                            </div>
                            <div class="col-md-0"></div>
                        </div>
                        <div class="row my-1">
                            <div class="col-md"></div>
                            <div class="col-md-2" style="margin:auto;display:block;padding-left: 0px;">
                                <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/up.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Up()" onmouseup="UpRelease()" id="up-img" type="button">
                            </div>
                            <div class="col-md"></div>
                        </div>
                
                        <div class="row my-2">
                            <div class="col-md" style="padding-right: 0px;">
                                <p style="font-size: 15px;">Tourner à<br> gauche</p>
                            </div>
                            <div class="col-md-2" style="margin-left: 0px;margin-right: 0px;display:block;padding: 0px;">
                                <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/left.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Left()" onmouseup="LeftRelease()" id="left-img" type="button">
                            </div>
                            <div class="col-md-2" style="margin-left: 0px;margin-right: 0px;display:block;padding: 0px;">
                                <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/logo_grey_transp.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Center()" onmouseup="CenterRelease()" id="center-img" type="button">
                            </div>
                            <div class="col-md-2" style="margin-left: 0px;margin-right: 0px;display:block;padding: 0px;">
                                <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/right.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Right()" onmouseup="RightRelease()" id="right-img" type="button">
                            </div>
                            <div class="col-md" style="padding-left: 2px;">
                                <p style="font-size: 15px;">Tourner à<br> droite</p>
                            </div>
                        </div>
                
                        <div class="row my-1">
                            <div class="col-md"></div>
                            <div class="col-md-2" style="margin:auto;display:block;padding-left: 0px;margin-top: 0px;padding-right: 5px;">
                                <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/down.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Down()" onmouseup="DownRelease()" id="down-img" type="button">
                                <br>
                            </div>
                            <div class="col-md"></div>
                        </div>
                        <div class="row my-1" style="height: 25px;">
                            <div class="col-md"></div>
                            <div class="col-md-2" style="margin: auto;display:block">
                                <p style="font-size: 15px;">Reculer</p>
                            </div>
                            <div class="col-md"></div>
                        </div>
                    </div>
                    <div class="col-md-7" id='affichage_video' style="padding: 0px;">
                        <div class="col d-flex justify-content-center" style="margin: 5px;">
                            <img src="" style="margin:auto;display:block;margin:1" height="500" width="480" class="p-1 bg-dark" alt="flux video" id="video_turtlebot" />
                        </div>
                    </div>
                </div>    
                
                <div id="controle_joystick" class="tabcontent" style="background-color: #8EC4FF;">
                    <div class="col-md-5" style="padding-left: 1px;background-color: #F6F8E1;margin: 5px;">
                        <h4 class="alert-heading">Instructions: </h4>
                        <p style="margin-bottom: 1px;">Pour diriger le robot, vous pouvez utiliser le joystick: </p>
                        <div id='joystickCommande'>
                            <div class="row my-2">
                                <div class="col">
                                    <div class="d-flex justify-content-center" style="width: 210px; height: 210px;">
                                        <div id="joystick"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7" id='affichage_video' style="padding: 0px;">
                        <div class="col d-flex justify-content-center" style="margin: 5px;">
                            <img src="" style="margin:auto;display:block;margin:1" height="500" width="480" class="p-1 bg-dark" alt="flux video" id="video_turtlebot" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script src="https://static.robotwebtools.org/keyboardteleopjs/current/keyboardteleop.min.js"></script>
    <script src="https://yoannmoinet.github.io/nipplejs/javascripts/nipplejs.js"></script>
    <script src="scripts/js_turtlebot_teleop.js"></script>
</body>
</html>