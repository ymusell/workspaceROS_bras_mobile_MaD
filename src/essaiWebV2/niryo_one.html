<!doctype html>
<html lang="fr+en">
    <head>
    <title>Chaire-robots-niryo</title>
    <link rel="icon" type="image/png" sizes="16x16" href="pictures/logoOnglet_transparent.png">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="css/styleNiryo.css"/>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    </head>
    <body class="bg" style="background-color:#ffffff">

        <!-- Bandeau -->
        <header>
            <div id='bandeau'>
                <nav class="navbar navbar-expand-md navbar-light" style="background-color:#62cdff">    <!-- "navbar navbar-dark" -->
                    <a class="navbar-brand" href="index.html">
                        <img src="pictures/logo_MaD_light.png" width="80" height="50" class="d-inline-block" alt="logo de la chaire">
                    </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Accueil <span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item active dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Robots
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="turtlebot_teleop.html">Turtlebot3</a>
                                    <a class="dropdown-item active" href="niryo_one.html">Niryo One</a>
                                    <a class="dropdown-item" href="meuble.html">meuble</a>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle dropup" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Scénarios
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="scenario.html">Scénario n°1</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                        <li class="nav-item dropdown">
                            <a class="nav-item nav-link dropdown-toggle mr-md-2" href="#" id="bd-versions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Paramètres <?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="20px" viewBox="0 0 20 20" fill="#000" version="1.1"><g id="surface1"><path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 10 12.5 C 8.625 12.5 7.5 11.375 7.5 10 C 7.5 8.625 8.625 7.5 10 7.5 C 11.375 7.5 12.5 8.625 12.5 10 C 12.5 11.375 11.375 12.5 10 12.5 Z M 15.625 8.4375 C 15.5 7.980469 15.3125 7.542969 15.082031 7.144531 L 15.605469 5.582031 L 14.417969 4.394531 L 12.855469 4.917969 C 12.4375 4.6875 12 4.5 11.542969 4.375 L 10.832031 2.917969 L 9.167969 2.917969 L 8.4375 4.375 C 7.980469 4.5 7.542969 4.6875 7.144531 4.917969 L 5.582031 4.394531 L 4.394531 5.582031 L 4.917969 7.144531 C 4.6875 7.5625 4.5 8 4.375 8.457031 L 2.917969 9.167969 L 2.917969 10.832031 L 4.375 11.5625 C 4.5 12.019531 4.6875 12.457031 4.917969 12.855469 L 4.394531 14.417969 L 5.582031 15.605469 L 7.144531 15.082031 C 7.5625 15.3125 8 15.5 8.457031 15.625 L 9.1875 17.082031 L 10.855469 17.082031 L 11.582031 15.625 C 12.042969 15.5 12.480469 15.3125 12.875 15.082031 L 14.4375 15.605469 L 15.625 14.417969 L 15.105469 12.855469 C 15.332031 12.4375 15.519531 12 15.644531 11.542969 L 17.105469 10.8125 L 17.105469 9.144531 Z M 15.625 8.4375 "/></g></svg>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-versions">
                                <a class="dropdown-item" href="#">Mode nuit?
                                </a>
                            </div>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="container .pt-3">
            <h4 style="color: black;font-weight: bold;">Niryo One :</h4> <!--text-align:center;-->
        </div>

        <!-- Informations générales -->

        <div class="row my-2" id="info_gene" style="margin-right: 0px;">
            <div class="col-md-4" style="margin-left: 6%;">
                <h6 style="color: black;">Informations générales :</h6>
                <div class="container" style="background-color: #CFE6FF;">
                    <div class="row my-2">
                        <div class="col-md-5">
                            <p style="color: black;width: 420px;margin-bottom: 0%;">Statut : <span style="background-color: red;text-align: center;color: white; padding: 1px 5px;" id="statut_niryo"> non connecté</span></p>
                        </div>
                    </div>
                    <div class="row my-2">
                        <div class="col-md-6">
                            <p style="color: black">Batterie level : <span id="batterie_niryo"> 50 %</span></p>
                        </div>
                        <div class="col-md-6" style="padding-top: 8px;">     <!-- style="display: grid;align-items: center;" -->
                            <div class="progress">
                                <div id="battery_status" class="progress-bar progress-bar-striped progress-bar-animated"
                                role="progressbar" style="width:50%; background-color:#62cdff" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                                50%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Actions -->
        <h6 style="color: black; margin-left: 6%;">Actions :</h6>

        <div class="container" style="background-color: #CFE6FF;margin-left: 6%;">
            <div class="row my-2" style="margin-bottom: 5px;">
                <div class="col-sm-7">
                    <p style="margin-bottom: 0px;">Caméra : <span id="camera_status" style="background-color: red;text-align: center;color: white; padding: 1px 5px;">Désactivé</span>
                        <label class="switch" style="margin-top: 2px;vertical-align: middle;">
                            <input type="checkbox" id="camera_button"/>
                            <span class="slider round"></span>
                        </label>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="d-none d-lg-flex col-md-12">        
                    <div class="tab">
                        <button class="tablinks active" onclick="openControle(event, 'controle_niryo')" style="font-size: smaller;">Controle du Niryo</button>
                        <button class="tablinks" onclick="openControle(event, 'observation_niryo')" style="font-size: smaller;">Observation de l'environnement</button>
                    </div>

                    <div id="controle_niryo" class="tabcontent" style="background-color: #8EC4FF;">
                        <div class="col-md-5" style="padding-left: 1px;background-color: #F6F8E1;margin: 5px;">
                            <h4 class="alert-heading">Instructions: </h4>
                            <p style="margin-bottom: 1px;">Pour contrôler le niryo, il faut être proche d'un des plans de travail et nous pouvons:  </p>
                            <ul style="padding-left: 25px;margin-bottom: 10px;">
                                <li>Prendre un élément sur un plan de travail: </li>
                                <div class="dropdown dropright" style="margin-left: 5%;">
                                    <button type="button" onclick="Ranger()" class="btn text-white dropdown-toggle btn-sm" id="ranger-btn" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color:#0070D1">Ranger</button>
                                    <div class="dropdown-menu" aria-labelledby="ranger-btn" style="background-color:#0070D1">
                                        <button class="dropdown-item  text-white" type="button" onclick="RangerSalon()" id="ranger-salon-btn">
                                            Salon</button>
                                        <button class="dropdown-item  text-white" type="button" onclick="RangerPlanTravail()" id="ranger-plan-travail-btn">
                                            Plan de travail3</button>
                                    </div>
                                </div>
                                <li>Déposer un objet sur un plan de travail:</li>
                                <div class="dropdown dropright" style="margin-left: 5%;">
                                    <button type="button" onclick="Servir()" class="btn text-white dropdown-toggle btn-sm" id="servir-btn" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color:#0070D1">
                                        Servir
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="servir-btn" style="background-color:#0070D1">
                                        <button class="dropdown-item  text-white" type="button" onclick="ServirSalon()" id="servir-salon-btn">
                                            Salon</button>
                                        <button class="dropdown-item  text-white" type="button" onclick="ServirPlanTravail()" id="servir-plan-travail-btn">
                                            Plan de travail</button>
                                    </div>
                                </div>
                                <li>Mettre en pause une action en cours ou l'arrêter</li>
                                <button type="button" onclick="Pause_bras()" class="btn text-white btn-sm" id="pause-btn" style="background-color:#808080; margin-left: 5%;">
                                    <b>
                                        Mettre en pause
                                    </b>
                                </button>
                                <button type="button" onclick="Arret_action()" class="btn btn-danger btn-sm" id="arret-btn"  style="margin-left: 5%;">
                                    <b>
                                        Arrêt de l'action
                                    </b>
                                </button>

                            </ul>   
                            
                        </div>
                        <div class="col-md-7" id='affichage_video' style="padding: 0px;">
                            <div class="col d-flex justify-content-center" style="margin: 5px;">
                                <img src="pictures/camera.svg" style="margin:auto;display:block" height="90%" width="90%" class="p-1 bg-dark" alt="flux video" id="video_Niryo" />
                            </div>
                        </div>
                    </div>                
                    <div id="observation_niryo" class="tabcontent" style="background-color: #8EC4FF;display: none;">
                        <div class="col-md-5" style="padding-left: 1px;background-color: #F6F8E1;margin: 5px;">
                            <h4 class="alert-heading">Instructions: </h4>
                            <p style="margin-bottom: 1px;">Pour diriger le robot, vous pouvez: </p>
                            <ul style="padding-left: 25px;margin-bottom: 10px;">
                                <li>Utiliser les touches du clavier </li>
                                <ul style="padding-left: 15px;margin-bottom: 10px;">
                                    <li>touche <strong id='letterZ'>z</strong> pour avancer</li>
                                    <li>touche <strong id='letterQ'>q</strong> pour tourner à gaucher</li>
                                    <li>touche <strong id='letterD'>d</strong> pour tourner à droite</li>
                                    <li>touche <strong id='letterX'>x</strong> pour reculer</li>
                                    <li>touche <strong id='letterS'>s</strong> pour s'arrêter</li>
                                </ul>
                                <li>Utiliser les flèches ci-dessous: </li>
                            </ul>
                            <div class="row my-1" style="height: 25px;">
                                <div class="col-md-0"></div>
                                <div class="col-md-0" style="margin:auto;display:block">
                                    <p style="font-size: 15px;">Avancer</p>
                                </div>
                                <div class="col-md-0"></div>
                            </div>
                            <div class="row my-1">
                                <div class="col-md"></div>
                                <div class="col-md-2" style="margin:auto;display:block;padding-left: 0px;">
                                    <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/up.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Up()" onmouseup="UpRelease()" id="up-img" type="button">
                                </div>
                                <div class="col-md"></div>
                            </div>
                    
                            <div class="row my-2">
                                <div class="col-md" style="padding-right: 0px;">
                                    <p style="font-size: 15px;">Tourner à<br> gauche</p>
                                </div>
                                <div class="col-md-2" style="margin-left: 0px;margin-right: 0px;display:block;padding: 0px;">
                                    <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/left.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Left()" onmouseup="LeftRelease()" id="left-img" type="button">
                                </div>
                                <div class="col-md-2" style="margin-left: 0px;margin-right: 0px;display:block;padding: 0px;">
                                    <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/logo_grey_transp.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Center()" onmouseup="CenterRelease()" id="center-img" type="button">
                                </div>
                                <div class="col-md-2" style="margin-left: 0px;margin-right: 0px;display:block;padding: 0px;">
                                    <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/right.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Right()" onmouseup="RightRelease()" id="right-img" type="button">
                                </div>
                                <div class="col-md" style="padding-left: 2px;">
                                    <p style="font-size: 15px;">Tourner à<br> droite</p>
                                </div>
                            </div>
                    
                            <div class="row my-1">
                                <div class="col-md"></div>
                                <div class="col-md-2" style="margin:auto;display:block;padding-left: 0px;margin-top: 0px;padding-right: 5px;">
                                    <img src="https://raw.githubusercontent.com/Anton1B/Base_mobile_MaD/main/src_web/pictures/down.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Down()" onmouseup="DownRelease()" id="down-img" type="button">
                                    <br>
                                </div>
                                <div class="col-md"></div>
                            </div>
                            <div class="row my-1" style="height: 25px;">
                                <div class="col-md"></div>
                                <div class="col-md-2" style="margin: auto;display:block">
                                    <p style="font-size: 15px;">Reculer</p>
                                </div>
                                <div class="col-md"></div>
                            </div>
                        </div>
                        <div class="col-md-7" id='affichage_video' style="padding: 0px;margin: auto;">
                            <div class="col d-flex justify-content-center" style="margin: 5px;">
                                <img src="pictures/camera.svg" style="margin:auto;display:block" height="90%" width="90%" class="p-1 bg-dark" alt="flux video" id="video_niryo" />
                            </div>
                        </div>
                    </div>    
                </div>
                <div class="d-block d-lg-none px-0 col-md-12"> 
                    <div class="row" style="margin: auto; display: flex">
                        <img src="pictures/camera.svg" style="margin:auto;display:block" height="300px" width="300px" class="p-1 bg-dark" alt="flux video" id="video_niryo_2" />
                    </div>
                    <div class="row m-2 " style="background-color: #F6F8E1;">
                        <div class="row mx-2">
                            <h4 class="alert-heading">Instructions: </h4>
                            <p>Pour controler le niryo, il faut être proche d'un des plans de travail et appuyer sur un des boutons ci-dessous:</p> 
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <p>Pour prendre un élément du plan de travail</p>
                                <div class="dropdown" style="margin-left: 5%;">
                                    <button type="button" onclick="Ranger()" class="btn text-white dropdown-toggle btn-sm" id="ranger-btn" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color:#0070D1">Ranger</button>
                                    <div class="dropdown-menu" aria-labelledby="ranger-btn" style="background-color:#0070D1">
                                        <button class="dropdown-item  text-white" type="button" onclick="RangerSalon()" id="ranger-salon-btn">
                                            Salon</button>
                                        <button class="dropdown-item  text-white" type="button" onclick="RangerPlanTravail()" id="ranger-plan-travail-btn">
                                            Plan de travail3</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <p>Pour déposer un objet sur un plan de travail</p>
                                <div class="dropdown" style="margin-left: 5%;">
                                    <button type="button" onclick="Servir()" class="btn text-white dropdown-toggle btn-sm" id="servir-btn" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color:#0070D1">
                                        Servir
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="servir-btn" style="background-color:#0070D1">
                                        <button class="dropdown-item  text-white" type="button" onclick="ServirSalon()" id="servir-salon-btn">
                                            Salon</button>
                                        <button class="dropdown-item  text-white" type="button" onclick="ServirPlanTravail()" id="servir-plan-travail-btn">
                                            Plan de travail</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <p>Pour suspendre une action</p>
                                <button type="button" onclick="Pause_bras()" class="btn text-white btn-sm" id="pause-btn" style="background-color:#808080; margin-left: 5%;">
                                    <b>
                                        Mettre en pause
                                    </b>
                                </button>
                                <button type="button" onclick="Arret_action()" class="btn btn-danger btn-sm" id="arret-btn"  style="margin-left: 5%;">
                                    <b>
                                        Arrêt de l'action
                                    </b>
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- <h4 class="alert-heading">Instructions: </h4>
                            <p style="margin-bottom: 1px;">Pour contrôler le niryo, il faut être proche d'un des plans de travail et nous pouvons:  </p>
                            <ul style="padding-left: 25px;margin-bottom: 10px;">
                                <li>Prendre un élément sur un plan de travail: </li>
                                <div class="dropdown dropright" style="margin-left: 5%;">
                                    <button type="button" onclick="Ranger()" class="btn text-white dropdown-toggle btn-sm" id="ranger-btn" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color:#0070D1">Ranger</button>
                                    <div class="dropdown-menu" aria-labelledby="ranger-btn" style="background-color:#0070D1">
                                        <button class="dropdown-item  text-white" type="button" onclick="RangerSalon()" id="ranger-salon-btn">
                                            Salon</button>
                                        <button class="dropdown-item  text-white" type="button" onclick="RangerPlanTravail()" id="ranger-plan-travail-btn">
                                            Plan de travail3</button>
                                    </div>
                                </div>
                                <li>Déposer un objet sur un plan de travail:</li>
                                <div class="dropdown dropright" style="margin-left: 5%;">
                                    <button type="button" onclick="Servir()" class="btn text-white dropdown-toggle btn-sm" id="servir-btn" 
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color:#0070D1">
                                        Servir
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="servir-btn" style="background-color:#0070D1">
                                        <button class="dropdown-item  text-white" type="button" onclick="ServirSalon()" id="servir-salon-btn">
                                            Salon</button>
                                        <button class="dropdown-item  text-white" type="button" onclick="ServirPlanTravail()" id="servir-plan-travail-btn">
                                            Plan de travail</button>
                                    </div>
                                </div>
                                <li>Mettre en pause une action en cours ou l'arrêter</li>
                                <button type="button" onclick="Pause_bras()" class="btn text-white btn-sm" id="pause-btn" style="background-color:#808080; margin-left: 5%;">
                                    <b>
                                        Mettre en pause
                                    </b>
                                </button>
                                <button type="button" onclick="Arret_action()" class="btn btn-danger btn-sm" id="arret-btn"  style="margin-left: 5%;">
                                    <b>
                                        Arrêt de l'action
                                    </b>
                                </button>

                            </ul>    -->
                </div>
            </div>
        </div>
      
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
        <script src="https://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
        <script src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
        <script src="https://static.robotwebtools.org/keyboardteleopjs/current/keyboardteleop.min.js"></script>
        <!-- <script src="//yoannmoinet.github.io/nipplejs/javascripts/nipplejs.js"></script> -->
        <script src="scripts/js_niryo_one.js"></script>
    </body>
</html>