<!doctype html>
<html lang="fr+en">
  <head>
    <title>turtlebot</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body class="bg" style="background-color:#ffffff">
    
    <!-- Bandeau -->
    <header>
        <div id='bandeau'>
            <nav class="navbar navbar-expand navbar-light" style="background-color:#62cdff">    <!-- "navbar navbar-dark" -->
                <b>
                    <a href="index.html">
                        <img src="pictures/logo_MaD_light.png"
                        width="80" height="50" class="d-inline-block" alt="logo de la chaire">
                    </a>
                </b>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item active dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Robots
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="turtlebot_teleop.html">Turtlebot3</a>
                            <a class="dropdown-item active" href="niryo_one.html">Niryo One</a>
                            <a class="dropdown-item" href="meuble.html">meuble</a>
                        </div>
                    </li>
                    </ul>
                </div>
                <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
                    <li class="nav-item dropdown">
                        <a class="nav-item nav-link dropdown-toggle mr-md-2" href="#" id="bd-versions" onclick="chargeRobot()" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Connections
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-versions">
                            <a class="dropdown-item" href="turtlebot_teleop.html">Turtlebot3
                                <span id="connection_turtlebot" class="badge badge-danger">Not connected</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="niryo_one.html">Niryo One
                                <span id="connection_niryo" class="badge badge-danger">Not connected</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="meuble.html">Meuble
                                <span id="connection_meuble" class="badge badge-danger">Not connected</span>
                            </a>
                        </div>
                    </li>
                    </ul>
            </nav>
        </div>
    </header>

    <h5 style="text-align:center; color:#888888"><b><u>Niryo One :</u></b></h5>

    <!-- VIDEO -->
    <div id='affichage_video'>
        <!-- <h5 style="text-align:center; color:#5439cc"><b><u>Camera du niryo :</u></b></h5> -->
        <div class="row my-2">
            <div class="col d-flex justify-content-center">
                <img src="" style="margin:auto;display:block;margin:1" height="308" width="410" class="p-1 bg-dark" alt="flux video" id="video_turtlebot" />
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <button type="button" class="btn btn-primary btn-lg btn-block" onclick="AllumeCamera()">Allumage de la caméra</button>"
            </div>
        </div>
    </div>

    <!-- utilisation des Collapse -->
    <div class="text-center">
        <div class="btn-group" style="justify-content: center" role="group" aria-label="...">
            <button id="boutonControleNiryo" class="btn btn-primary" type="button" data-toggle="collapse" data-target="#main_niryo" aria-expanded="false" aria-controls="main_niryo">
                Controle du Niryo
            </button>
            <button id="boutonObservationNiryo" class="btn btn-primary" type="button" data-toggle="collapse" data-target="#observation_niryo" aria-expanded="false" aria-controls="observation_niryo">
                Observation avec le Niryo
            </button>
        </div>
    </div>
    <div class="collapse" id="main_niryo">
        <div class="card card-body">
            <div class="row my-2">
                <div class="col-md-0"></div>
                <div class="col-md-0" style="margin:auto;display:block">
                    <br>
                    <button type="button" onclick="Servir()" class="btn text-white btn-sm" id="servir-btn"
                        style="background-color:#3dc0c0">Servir</button>
                    <button type="button" onclick="Pause_bras()" class="btn text-white btn-sm" id="pause-btn"
                        style="background-color:#808080"><b>Pause</b></button>
                    <button type="button" onclick="Ranger()" class="btn text-white btn-sm" id="ranger-btn"
                        style="background-color:#3dc0c0">Ranger</button>
                    <br>
                </div>
                <div class="col-md-0"></div>
            </div>
    
    
            <!-- Boutons pour arreter l acton du niryo -->
            <div class="row my-2">
                <div class="col-md-0"></div>
                <div class="col-md-0" style="margin:auto;display:block">
                    <br>
                    <button type="button" onclick="Arret_action()" class="btn btn-danger btn-lg" id="arret-btn"><b>Arrêt
                            de l'action</b></button>
                    <br>
                </div>
                <div class="col-md-0"></div>
            </div>
        </div>
    </div>
    <div class="collapse" id="observation_niryo">
        <div class="card card-body">
            <!-- <div class="row my-2">
                <div class="col-md-0"></div>
                <div class="col-md-0" style="margin:auto;display:block">
                    <button type="button" onclick="Observation()" class="btn text-white btn-lg" id="observation-btn"
                        style="background-color:#3dc0c0">Démarrer l'observation</button>
                    <button type="button" onclick="finObservation()" class="btn text-white btn-lg" id="fin-observation-btn"
                        style="background-color:#3dc0c0">Fin de l'observation</button>
                </div>
                <div class="col-md-0"></div>
            </div> -->
    
            <!-- Boutons pour gere l observation du niryo -->
            <div class="row my-2">
                <div class="col-md-0"></div>
                <div class="col-md-0" style="margin:auto;display:block">
                    <br>
                    <img src="pictures/up.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Up()" onmouseup="UpRelease()" id="up-img" type="button">
                </div>
                <div class="col-md-0"></div>
            </div>
    
            <div class="row my-2">
                <div class="col-md-0"></div>
                <div class="col-md-0" style="margin:auto;display:block">
                    <img src="pictures/left.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Left()" onmouseup="LeftRelease()" id="left-img" type="button">
                    <img src="pictures/logo_grey_transp.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Center()" onmouseup="CenterRelease()" id="center-img" type="button">
                    <img src="pictures/right.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Right()" onmouseup="RightRelease()" id="right-img" type="button">
                </div>
                <div class="col-md-0"></div>
            </div>
    
            <div class="row my-2">
                <div class="col-md-0"></div>
                <div class="col-md-0" style="margin:auto;display:block">
                    <img src="pictures/down.png" width="50" height="50" class="d-inline-block" alt="" onmousedown="Down()" onmouseup="DownRelease()" id="down-img" type="button">
                    <br>
                </div>
                <div class="col-md-0"></div>
            </div>
        </div>
    </div>

    <!-- Interligne bleue, plus utilisé mais on ne sait jamais -->
    <!-- <hr style="height:2px ;border-width:0; margin-top:1cm ; margin-bottom:1cm ; background-color:#31ffff;"> -->
    
    <!-- Bandeau des informations -->

    <div class="row my-4">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <div id="info_default" class="alert" style="background-color:#5de2c1">
                <h5 class="alert-heading"><b>Informations :</b></h5>
                <h5>
                    <style type='text/css'>
                        body {
                            color: #ffffff;
                        }
                    </style>
                    <h5>
                        <h6 id="message"></h6>
            </div>
            <div id="info_observation" class="alert alert-info" style="color: white; background-color:#5de2c1">
                <h4 class="alert-heading">Méthode de controle du turtlebot</h4>
                <ul>
                    <li>Commande en utilisant les boutonts sur la page web</li>
                    <li>En utilisant les touches du clavier </li>
                    <ul>
                        <li>touche <strong id='letterZ'>z</strong> pour aller devant</li>
                        <li>touche <strong id='letterQ'>q</strong> pour aller à gaucher</li>
                        <li>touche <strong id='letterD'>d</strong> pour aller à droite</li>
                        <li>touche <strong id='letterX'>x</strong> pour aller en arrière</li>
                        <li>touche <strong id='letterS'>s</strong> pour se stopper</li>
                    </ul>
                </ul>
            </div>
        </div>
        <div class="col-md-2"></div>
    </div>
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script src="https://static.robotwebtools.org/keyboardteleopjs/current/keyboardteleop.min.js"></script>
    <!-- <script src="//yoannmoinet.github.io/nipplejs/javascripts/nipplejs.js"></script> -->
    <script src="scripts/js_niryo_one.js"></script>
</body>
</html>